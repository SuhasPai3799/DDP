// A role has been chosen by the game partner
role_chosen:
if (currentSA <= #Inform(Role, hasActor=_) && (game.status == startSession)) {
  propose("roleChosen-newRound") {
    var actor = currentSA.hasActor;

    // this is a transaction of three actions!
    emitDA(#Confirm(Role, hasActor=actor));
    emitDA(#Inform(Instructions, what=game.name, active=game.activeParticipant));
    gameLogic.newRound(actor);
    /* GAME LOGIC START: This is injected by the game logic!
    game.activeParticipant = actor;
    game.status = inSession; // previously: SE.gameTurn
    // GAME LOGIC END
    */
  }
}
