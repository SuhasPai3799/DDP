
introduction:
if (! (activity <= Introduction)) return;


// new session: greet user
// TODO: ADD INFO FUNCTION TO GENERATION SO IT CAN CAPTURE USER NAME ETC.
initial_greeting:
if (user) {
  if (! myLastDA()) {
    propose("greeting") {
      salutation = firstEncounter() ? InitialGreeting : ReturnGreeting;
      DialogueAct da = emitDA(#^salutation(Meeting));

    ask_user_name:
      if (! user.GivenName && saidInSession(#Request(Name)) < 0) {
        // TODO: USE SAME LABELS IN GRAMMAR AND DATABASE
        // Max: ERROR? TODO: there is no Request(Name) DA!
        // make sure the next DA is send only send out after 900ms pause
        introduceDADelay(900);
        emitDA(#Request(Name));
      }
    }
  }
}